---
import { useTranslations } from '../i18n/utils';
import type { Lang } from '../i18n/utils';
import heroBg from '../assets/eco-friendly-solar-panels-plant-technician-designing-production-lines-pc.jpg';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);
---

<section
  id="inicio"
  class="hero-section relative w-full flex items-center overflow-hidden
         min-h-[calc(70vh-4rem)] px-6 pt-2 pb-12 md:px-16 md:pt-12 md:pb-16"
>
  <!-- Imagen de fondo -->
  <img
    src={heroBg.src}
    alt=""
    aria-hidden="true"
    class="hero-bg-img absolute inset-0 w-full h-full object-cover object-center"
  />

  <!-- Vignette oscura en los bordes -->
  <div class="hero-vignette absolute inset-0 pointer-events-none" aria-hidden="true"></div>

  <!-- Contenedor principal -->
  <div class="relative z-10 max-w-300 mx-auto w-full">

    <!-- ── Texto ── -->
    <div class="text-white text-center md:text-left max-w-2xl">

      <!-- Badge -->
      <span class="inline-flex items-center gap-1.5 mb-7
                   text-[0.72rem] font-bold tracking-[0.12em] uppercase
                   text-(--color-contrast) border border-(--color-contrast)/30
                   px-3.5 py-1.5 rounded-full">
        {t.hero.badge}
      </span>

      <!-- Título -->
      <h1 class="text-4xl md:text-[3rem] font-extrabold leading-[1.15]
                 mt-0 mb-5 text-slate-50 ml-2">
        {t.hero.h1a}<br />
        <span class="text-(--color-primary)">{t.hero.h1b}</span>
      </h1>

      <!-- Subtítulo -->
      <p class="text-[1.05rem] leading-[1.75] text-white/70
                max-w-115 mt-0 mb-10 mx-auto md:mx-0">
        {t.hero.sub}
      </p>

      <!-- CTAs -->
      <div class="flex gap-4 flex-wrap justify-center md:justify-start">
        <a
          href={`/${lang}/#proyectos`}
          class="bg-(--color-primary) text-white
                 px-7 py-3 rounded-lg font-semibold text-[0.95rem]
                 no-underline transition-all duration-200
                 hover:opacity-90 hover:-translate-y-px"
        >
          {t.hero.cta1}
        </a>
        <a
          href={`/${lang}/#contacto`}
          class="text-white/65 border border-white/20
                 px-7 py-3 rounded-lg font-semibold text-[0.95rem]
                 no-underline transition-all duration-200
                 hover:text-white hover:border-white/40 hover:-translate-y-px"
        >
          {t.hero.cta2}
        </a>
      </div>
    </div>

  </div>
</section>

<style>
  .hero-section {
    background: #080c10;
  }

  .hero-bg-img {
    opacity: 0.55;
  }

  /* Vignette: bordes difuminados a negro */
  .hero-vignette {
    background:
      /* Izquierda: oscuro para legibilidad del texto */
      linear-gradient(to right,  rgba(0,0,0,0.80) 0%, rgba(0,0,0,0.45) 40%, rgba(0,0,0,0.10) 70%, transparent 100%),
      /* Arriba */
      linear-gradient(to bottom, rgba(0,0,0,0.60) 0%, transparent 30%),
      /* Abajo */
      linear-gradient(to top,    rgba(0,0,0,0.70) 0%, transparent 35%),
      /* Derecha */
      linear-gradient(to left,   rgba(0,0,0,0.50) 0%, transparent 30%);
  }
</style>
